# Story teller


## Add help text to the application

* https://doc.qt.io/archives/qq/qq28-qthelp.html


Generel example of application:
https://doc.qt.io/qt-5/qtwidgets-mainwindows-application-example.html

https://doc.qt.io/qt-5/qtassistant-index.html#
Warning: In order to ship Qt Assistant in your application, it is crucial that you include the sqlite plugin. For more information on how to include plugins in your application, refer to the deployment documentation.

* https://doc.qt.io/archives/qq/qq08-helpclient.html#suggestedenhancements
* https://doc.qt.io/qt-5/assistant-custom-help-viewer.html
* https://wiki.qt.io/Building_Qt_Documentation


Creating a Custom Help Collection File
The help collection file (*.qhc) used by Qt Assistant is created when running the qhelpgenerator tool on a help collection project file (*.qhcp). The project file format is XML and it supports the following tags:

qhelpgenerator mycollection.qhcp -o mycollection.qhc

assistant -collectionFile mycollection.qhc

Even though the help viewer is a standalone application, it will mostly be launched by the application it provides help for. This approach gives the application the possibility to ask for specific help contents to be displayed as soon as the help viewer is started.

So, to use Qt Assistant as the custom help viewer of your application, simply create a QProcess and specify the path to the Qt Assistant executable. In order to make Qt Assistant listen to your application, turn on its remote control functionality by passing the -enableRemoteControl command line option.

1. Edit 'Storyteller.pro' add 'QT += help'
2. Add the path to the help file in: ~/.config/RpgTools/Story\ teller.conf
  1. add 'collectionFileFullPath' to the '[generel]' section
    * xxx/StoryTeller/qt/docs/storyteller.qhc
1. Add storyteller.qhcp
2. Add storyteller.qhp
5. Update .pro file: https://www.qtcentre.org/threads/22075-QMake-to-Build-Help-Files




.qhc - (Qt Help Collection) The help collection file that QHelpEngine operates on.  It can contain references to any number of compressed help files as well as additional information, such as custom filters.
  Generated by qhelpgenerator, from .qhcp 
  ~/Qt/5.9.8/gcc_64/bin/qcollectiongenerator storyteller.qhcp -o storyteller.qhc
.qch - (Qt Compressed Help) Contains all the information specified in the help project file along with all the compressed documentation files.
  ~/Qt/5.9.8/gcc_64/bin/qhelpgenerator storyteller.qhp -o storyteller.qch

Both .qch and .qhc seems to be required.

Building both at the same time?
https://stackoverflow.com/questions/15624701/running-qcollectiongenerator-during-application-compile-process
  Generated by qhelpgenerator, from .qhp

# Trouble shooting

#### QObject::connect: No such signal MainWindow::focusChanged(QWidget*,QWidget*) in ../../Dropbox/Sources/StoryTeller/qt/mainwindow.cpp:114

```
QObject::connect: No such signal MainWindow::focusChanged(QWidget*,QWidget*) in ../../Dropbox/Sources/StoryTeller/qt/mainwindow.cpp:114
```

#### QSqlQuery::value: not positioned on a valid record

change ending from '.qhcp' to '.qhc'

```
QSqlQuery::value: not positioned on a valid record
MainWindow(): collectionFile not found: "XXX/StoryTeller/qt/docs/storyteller.qhcp"
```

#### qhelpgenerator: could not find a Qt installation of ''

#### Error in line 2: Unknown token. Expected "QtHelpProject".
See: https://github.com/octave-app/homebrew-octave-app/commit/b374be48f198fa8adc0eb23ac3b67a568c9c84a5

 Qt 5.12 merged qcollectiongenerator into qhelpgenerator

qcollectiongenerator wateringmachine.qhcp -o wateringmachine.qhc


#### 

showHelpTextForKeyword(): - id:  "plants"
showHelpTextForKeyword(): - links count -  QUrl("qthelp://nytnavn/wateringmachine/plants.html")

#### QFSFileEngine::open: No file name specified

```
QFSFileEngine::open: No file name specified
QTextBrowser: No document for qthelp://rpg.tools.open/storyteller/premise.html
```

**************** Drone fighters - Descent kind of battle.
micro drone fighters in hamster tunnels
or air duct tunnels
 be able to rotate engines to fit up vertical tubes.
